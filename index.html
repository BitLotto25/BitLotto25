import React, { useEffect, useState } from 'react'; import QRCode from 'qrcode';

const cryptoAddresses = { btc: 'bc1q4hm0lnm7emqwdskr4rwwg9z4wj82xg4aeuru0w', eth: '0x5ed7e18ea9e00adabac4ab283e00946030b8c520', usdt_eth: '0x5ed7e18ea9e00adabac4ab283e00946030b8c520', usdc_eth: '0x5ed7e18ea9e00adabac4ab283e00946030b8c520', shib: '0x5ed7e18ea9e00adabac4ab283e00946030b8c520', sol: 'AuzpQkFfos3XPyTzY5ik3HuUpmpWtmvPVVtsUc5QKytJ', bnb_bep20: '0x5ed7e18ea9e00adabac4ab283e00946030b8c520', trx: 'THdiSDDWqtWrTzq3KJn35kYrWo3ZTP6yCu', ton: 'UQCxhbxWfmQvGjDe98iR7YrysVHmBCyORAbl3U0YsK9y1F1N', ltc: 'ltc1qxk8598h9jlaxe4j7hkwvh3z57eft6ygdsue0my', };

const BitLotto = () => { const [ticketsSold, setTicketsSold] = useState(0); const [ticketCount, setTicketCount] = useState(1); const [email, setEmail] = useState(''); const [crypto, setCrypto] = useState('btc'); const [message, setMessage] = useState(''); const [theme, setTheme] = useState('dark');

const maxTickets = 1000000; const ticketPrice = 5;

useEffect(() => { generateQR(cryptoAddresses[crypto]); }, [crypto]);

const generateQR = async (address) => { const canvas = document.getElementById('qr'); await QRCode.toCanvas(canvas, address, { width: 180 }); };

const handleBuy = () => { if (!/\S+@\S+.\S+/.test(email)) { setMessage('Please enter a valid email.'); return; } if (ticketsSold + ticketCount > maxTickets) { setMessage('Not enough tickets left.'); return; } setTicketsSold(ticketsSold + ticketCount); setMessage(Send $${(ticketCount * ticketPrice).toFixed(2)} in ${crypto.toUpperCase()} to: ${cryptoAddresses[crypto]}); };

return ( <div className={min-h-screen p-4 transition-all duration-500 ${theme === 'dark' ? 'bg-gray-900 text-white' : 'bg-gray-100 text-black'}}> <header className="text-center py-6"> <h1 className="text-4xl font-bold text-orange-400">BitLotto 🎟️ Bitcoin Lottery</h1> <p className="text-sm mt-2">🎉 $1M Grand Prize • Bonus Draw: $10K Every 10,000 Tickets 🎉</p> <button className="mt-4 px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-500 transition" onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')} > Toggle {theme === 'dark' ? 'Light' : 'Dark'} Theme </button> </header>

<main className="max-w-xl mx-auto space-y-6">
    <div className="bg-opacity-20 rounded-lg p-6 shadow-lg bg-gray-800">
      <label className="font-semibold">Number of Tickets ($5 each):</label>
      <input
        type="number"
        className="w-full mt-1 p-2 rounded bg-gray-700 text-white"
        value={ticketCount}
        onChange={(e) => setTicketCount(Number(e.target.value))}
        min="1"
        max="50"
      />
    </div>

    <div className="bg-opacity-20 rounded-lg p-6 shadow-lg bg-gray-800">
      <strong>Tickets Sold: {ticketsSold} / {maxTickets}</strong>
      <div className="w-full h-4 bg-gray-600 rounded mt-2 overflow-hidden">
        <div
          className="h-full bg-orange-400 transition-all duration-500"
          style={{ width: `${(ticketsSold / maxTickets) * 100}%` }}
        ></div>
      </div>
    </div>

    <div className="bg-opacity-20 rounded-lg p-6 shadow-lg bg-gray-800">
      <label className="font-semibold">Email Address:</label>
      <input
        type="email"
        className="w-full mt-1 p-2 rounded bg-gray-700 text-white"
        placeholder="you@example.com"
        value={email}
        onChange={(e) => setEmail(e.target.value)}
      />
    </div>

    <div className="bg-opacity-20 rounded-lg p-6 shadow-lg bg-gray-800">
      <label className="font-semibold">Select Crypto:</label>
      <select
        className="w-full mt-1 p-2 rounded bg-gray-700 text-white"
        value={crypto}
        onChange={(e) => setCrypto(e.target.value)}
      >
        {Object.keys(cryptoAddresses).map((key) => (
          <option key={key} value={key}>{key.toUpperCase()}</option>
        ))}
      </select>

      <p className="mt-3 font-semibold">Payment Address:</p>
      <p className="break-all text-orange-400 font-mono">{cryptoAddresses[crypto]}</p>

      <div className="mt-4 text-center">
        <canvas id="qr" className="mx-auto"></canvas>
      </div>
    </div>

    <button
      onClick={handleBuy}
      className="w-full py-3 bg-orange-500 hover:bg-orange-400 text-black font-bold rounded shadow-lg transition duration-300"
    >
      Buy Tickets
    </button>

    {message && <p className="mt-4 text-center font-semibold text-green-400">{message}</p>}
  </main>

  <footer className="mt-10 text-center text-sm text-gray-500">
    &copy; 2025 BitLotto. All rights reserved.
  </footer>
</div>

); };

export default BitLotto;

